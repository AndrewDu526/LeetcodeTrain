# LC 20 有效的括号

## 1. Basic Information

- __question__: 有效的括号
- __topic__: stack
- __level__: easy
- __time-cost__: null
- __completed-date__: 12-24-2025
- __completed-times__: 1
- __status__: 很熟悉，但是阅读思路后写出，且题解不够优雅

## 2. Question

给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串 s ，判断字符串是否有效。
有效字符串需满足：
左括号必须用相同类型的右括号闭合。
左括号必须以正确的顺序闭合。
每个右括号都有一个对应的相同类型的左括号。
 
示例 1：
输入：s = "()"
输出：true
示例 2：
输入：s = "()[]{}"
输出：true
示例 3：
输入：s = "(]"
输出：false
示例 4：
输入：s = "([])"
输出：true
示例 5：
输入：s = "([)]"
输出：false

提示：
1 <= s.length <= 104
s 仅由括号 '()[]{}' 组成

## 3. Solution

我的解法：直接匹配右括号时才进行栈操作

标准答案：先将每个左括号的对应右括号入栈，遇到右括号时直接与栈顶的元素进行匹配

## 4. Code Implementation

我的题解：

    class Solution {
        public boolean isValid(String s) {
            Stack<Character> container = new Stack<>();
            char[] chars = s.toCharArray();
    
            for(char c : chars){
                if(c==')'){
                    if(container.isEmpty()){return false;}
                    else if(container.pop()!='('){return false;}
                }else if(c==']'){
                    if(container.isEmpty()){return false;}
                    else if(container.pop()!='['){return false;}
                }else if(c=='}'){
                    if(container.isEmpty()){return false;}
                    else if(container.pop()!='{'){return false;}
                }else{
                    container.push(c);
                }
            }
    
            return container.isEmpty();
        }
    }

标准答案：

    class Solution {
        public boolean isValid(String s) {
            Deque<Character> deque = new LinkedList<>();
            char ch;
            for (int i = 0; i < s.length(); i++) {
                ch = s.charAt(i);
                //碰到左括号，就把相应的右括号入栈
                if (ch == '(') {
                    deque.push(')');
                }else if (ch == '{') {
                    deque.push('}');
                }else if (ch == '[') {
                    deque.push(']');
                } else if (deque.isEmpty() || deque.peek() != ch) { //如果是右括号但栈内无元素或者不匹配
                    return false;
                }else {//如果是右括号且和栈中元素匹配
                    deque.pop();
                }
            }
            //遍历结束，如果栈为空，则括号全部匹配
            return deque.isEmpty();
        }
    }

- 遍历string的方法除了 for(char c : str.toCharArray())还可以for(int i=0;i<str.length();i++){char c = str.charAt(i);}
- deque使用的pop()和push()来自实现类LinkedList的对象，而不是接口Deque中的规范

## 5. Conclusion

- 先将每个左括号的对应右括号入栈，遇到右括号时直接与栈顶的元素进行匹配
- 推荐用ArrayDeque实现Queue
